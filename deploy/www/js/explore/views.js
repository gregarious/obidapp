define(["text!templates/explore-menu.html","text!templates/explore-filter.html","text!templates/explore-loading.html","text!templates/explore-error.html","text!templates/list-paging.html","text!templates/listitem-places.html","text!templates/listitem-events.html","text!templates/listitem-specials.html","text!templates/listitem-news.html","text!templates/listitem-noresults.html","text!templates/mapfeed.html","text!templates/home.html"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h={};h.LoadingView=Backbone.View.extend({template:Handlebars.compile(n),render:function(){return this.$el.html(this.template()),this}}),h.ErrorView=Backbone.View.extend({template:Handlebars.compile(r),initialize:function(e){return this.message=e.message,this},render:function(){return this.$el.html(this.template({message:this.message})),this}}),h.MenuView=Backbone.View.extend({template:Handlebars.compile(e),activeSection:null,activeDisplayMode:null,events:{"click .icon-display":"displayModeClicked"},initialize:function(e){_.bindAll(this,"render","searchClicked","displayModeClicked")},setActiveNav:function(e,t){t=_.isUndefined(t)?!0:t,this.activeSection=e,t===!0&&this.render()},setActiveDisplayMode:function(e,t){t=_.isUndefined(t)?!0:t,this.activeDisplayMode=e,t===!0&&this.render()},render:function(){this.$el.html(this.template());var e=this.$(".icon-display-list"),t=this.$(".icon-display-map");this.activeDisplayMode==="list"?(e.hide(),t.show()):this.activeDisplayMode==="map"&&(t.hide(),e.show());var n=this.activeSection;return this.$("nav li").each(function(e,t){t=$(t),t.toggleClass("active",t.data("type")===n)}),this},displayModeClicked:function(){this.trigger("click:displayMode")},searchClicked:function(){this.trigger("click:searchOn")}}),h.NowView=Backbone.View.extend({template:Handlebars.compile(c),render:function(){return this.$el.html(this.template()),this}});var p=Backbone.View.extend({events:{"click .page-previous":"pagePrevious","click .page-next":"pageNext"},initialize:function(e){_.bindAll(this,"pagePrevious","pageNext")},pagePrevious:function(){this.trigger("page:prev")},pageNext:function(){this.trigger("page:next")}}),d=function(e){e.currentTarget.beingTapped=!0},v=function(e){e.currentTarget.beingTapped=!1},m=function(e){e.currentTarget.beingTapped===!0&&setTimeout(function(){$(e.currentTarget).trigger("tap")},300),e.currentTarget.beingTapped=!1};$.fn.tappable=function(){return this.each(function(){var e=$(this);e.on("touchstart",d),e.on("touchmove",v),e.on("touchend",m)}),this};var g=p.extend({itemTemplate:null,noResultsTemplate:Handlebars.compile(f),pagingTemplate:Handlebars.compile(i),events:function(){var e=p.prototype.events;return Modernizr.touch?_.extend(e,{"tap a.tappable":function(e){window.location=e.target.href},"click a.tappable":function(e){e.preventDefault()}}):e},render:function(){this.$el.empty();var e={previous:this.collection.meta&&this.collection.meta.previous,next:this.collection.meta&&this.collection.meta.next},t='<ul class="feed">';this.collection.length<1?t+=this.noResultsTemplate():this.collection.each(function(e){t+=this.itemTemplate(e.attributes)},this),t+="</ul>",this.$el.append(t),Modernizr.touch&&this.$("a.tappable").tappable();var n='<div class="paging">'+this.pagingTemplate(e)+"</div>";return this.$el.append(n),this}});return h.PlacesList=g.extend({itemTemplate:Handlebars.compile(s)}),h.EventsList=g.extend({itemTemplate:Handlebars.compile(o)}),h.SpecialsList=g.extend({itemTemplate:Handlebars.compile(u)}),h.NewsArticleList=g.extend({itemTemplate:Handlebars.compile(a)}),h.CategoryFilterView=Backbone.View.extend({template:Handlebars.compile(t),initialize:function(e){_.bindAll(this,"render","categorySelected")},render:function(){var e=this.collection.map(function(e){return e.attributes}),t=this.template({categories:e});return this.$el.html(t),this},categorySelected:function(e){var t=$(e.target).find("option:selected"),n=t.val();this.trigger("selected",n)}}),h})